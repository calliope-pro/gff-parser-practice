# GFF Parser Practice - 遺伝子配列抽出トレーニングツール

## 1. サービス概要

* **サービス名**: GFF Parser Practice
* **目的**: Python初学者が遺伝子配列抽出コードを書いて動作確認できる研修・教育用Webアプリ
* **技術スタック**: Next.js 15 (App Router) + TypeScript + Tailwind CSS + Pyodide
* **実行環境**: ブラウザ上でPythonコードを実行

---

## 2. 機能要件

### 2.1 入力

**ファイルアップロード（4種類）**
1. FASTAファイル (.fa) - DNA配列データ
2. GFFファイル (.gff) - 遺伝子アノテーション情報
3. 遺伝子名リストTXT (.txt) - 抽出対象の遺伝子名リスト
4. Pythonコードファイル (.py) - ユーザーが作成した実行コード

**モード選択**
- DNA配列抽出モード
- アミノ酸配列抽出モード

### 2.2 実行

- 「実行」ボタンをクリック
- Pyodideでブラウザ上でPythonコードを実行
- 入力ファイルをPyodide仮想ファイルシステムに配置
- ユーザーのPythonコードを実行

### 2.3 出力

- 標準出力（stdout）の表示
- エラーメッセージ（stderr）の表示
- 実行結果の可視化

---

## 3. UI設計

### レイアウト
- シンプルで分かりやすい1カラムレイアウト
- 教育目的のため、直感的な操作性を重視

### セクション構成
1. **ヘッダー**: サービス名と簡単な説明
2. **ファイルアップロードエリア**: 4つのファイル入力（.fa, .gff, .txt, .py）
3. **モード選択**: ラジオボタンまたはトグル（DNA / アミノ酸）
4. **実行ボタン**: 大きめで目立つボタン
5. **結果表示エリア**: 出力とエラーを分けて表示

---

## 4. 技術仕様

### ディレクトリ構造
```
gff-parser-practice/
├── app/
│   ├── page.tsx          # メインページ
│   └── layout.tsx
├── components/
│   ├── FileUploader.tsx  # ファイルアップロードコンポーネント
│   ├── ModeSelector.tsx  # DNA/アミノ酸モード選択
│   └── ResultDisplay.tsx # 結果表示
├── lib/
│   └── pyodide.ts        # Pyodide初期化・実行ユーティリティ
└── ...
```

### Pyodide統合
- Pyodideはクライアントサイドでのみ動作
- 初回ロード時にPyodideを初期化（遅延読み込み可）
- ファイルは仮想ファイルシステム（FS API）に書き込み
- .pyファイルの内容を読み込んで実行

---

## 5. 開発方針

- **シンプル第一**: 過度な機能追加は避ける
- **教育向け**: エラーメッセージは分かりやすく
- **レスポンシブ**: モバイルでも使える
- **型安全**: TypeScriptで厳密に型定義

---

## 6. 今後の拡張可能性（初期実装では不要）

- サンプルコード提供
- 実行履歴の保存
- テストケースの提供
- 正解データとの照合機能
